{"version":3,"sources":["App.js","index.js"],"names":["magic","Magic","extensions","solana","SolanaExtension","rpcUrl","App","_useState","useState","_useState2","Object","slicedToArray","email","setEmail","_useState3","_useState4","publicAddress","setPublicAddress","_useState5","_useState6","destinationAddress","setDestinationAddress","_useState7","_useState8","sendAmount","setSendAmount","_useState9","_useState10","isLoggedIn","setIsLoggedIn","_useState11","_useState12","userMetadata","setUserMetadata","_useState13","_useState14","txHash","setTxHash","_useState15","_useState16","sendingTransaction","setSendingTransaction","useEffect","user","then","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","magicIsLoggedIn","metadata","wrap","_context","prev","next","getMetadata","sent","stop","_x","apply","this","arguments","login","_ref2","_callee2","_context2","auth","loginWithMagicLink","logout","_ref3","_callee3","_context3","handlerSendTransaction","_ref4","_callee4","transaction","tx","_context4","web3","transfer","fromPubkey","toPubkey","lamports","sendAndConfirmTransaction","console","log","QRCode","require","react_default","createElement","className","dist","type","ripple","onPress","value","name","required","placeholder","onChange","event","target","id","role","aria-label","window","open","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a288b854.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./styles.css\";\nimport { Magic } from \"magic-sdk\";\nimport { SolanaExtension } from \"@magic-ext/solana\";\nimport * as web3 from \"@solana/web3.js\";\nimport { AwesomeButton, AwesomeButtonSocial } from \"react-awesome-button\";\nimport 'react-awesome-button/dist/themes/theme-rickiest.css';\n\nconst magic = new Magic(\"pk_live_27D4CE5DA9E43129\", {\n  extensions: {\n    solana: new SolanaExtension({\n      rpcUrl: \"https://api.mainnet-beta.solana.com\"\n    })\n  }\n});\n\nexport default function App() {\n  const [email, setEmail] = useState(\"\");\n  const [publicAddress, setPublicAddress] = useState(\"\");\n  const [destinationAddress, setDestinationAddress] = useState(\"\");\n  const [sendAmount, setSendAmount] = useState(0);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userMetadata, setUserMetadata] = useState({});\n  const [txHash, setTxHash] = useState(\"\");\n  const [sendingTransaction, setSendingTransaction] = useState(false);\n\n  useEffect(() => {\n    magic.user.isLoggedIn().then(async (magicIsLoggedIn) => {\n      setIsLoggedIn(magicIsLoggedIn);\n      if (magicIsLoggedIn) {\n        const metadata = await magic.user.getMetadata()\n        setPublicAddress(metadata.publicAddress);\n        setUserMetadata(metadata);\n      }\n    });\n  }, [isLoggedIn]);\n\n  const login = async () => {\n    await magic.auth.loginWithMagicLink({ email });\n    setIsLoggedIn(true);\n  };\n\n  const logout = async () => {\n    await magic.user.logout();\n    setIsLoggedIn(false);\n  };\n\n  const handlerSendTransaction = async () => {\n    setSendingTransaction(true);\n    const metadata = await magic.user.getMetadata();\n    const transaction = web3.SystemProgram.transfer({\n      fromPubkey: metadata.publicAddress,\n      toPubkey: destinationAddress,\n      lamports: sendAmount\n    });\n\n    const tx = await magic.solana.sendAndConfirmTransaction(transaction);\n    setSendingTransaction(false);\n\n    setTxHash(tx);\n\n    console.log(\"send transaction\", tx);\n  };\n  var QRCode = require('qrcode.react');\n  \n\n  return (\n    <div className=\"App\">\n      {!isLoggedIn ? (\n        <div className=\"container\">\n          <h1>Please sign up or login</h1>\n          <h5>ONLY USE IN DESKTOP/BROWSER</h5>\n          <input\n            type=\"email\"\n            name=\"email\"\n            required=\"required\"\n            placeholder=\"Enter your email\"\n            onChange={(event) => {\n              setEmail(event.target.value);\n            }}\n          />\n          <AwesomeButton type=\"secondary\" ripple onPress={login}>Send</AwesomeButton>\n        </div>\n      ) : (\n        <div>\n          <div className=\"container\">\n            <h1>Current user: {userMetadata.email}</h1>\n            <AwesomeButton\n            type=\"secondary\" \n            ripple\n            onPress={logout}>Logout</AwesomeButton>\n          </div>\n          <div className=\"container\">\n            <h1>Solana address</h1>\n            <div className=\"info\">{publicAddress}</div>\n            <QRCode value={publicAddress} />\n          </div>\n          <div className=\"container\">\n            <h1>Send Transaction</h1>\n            {txHash ? (\n              <div>\n                <div>Send transaction success</div>\n                <div className=\"info\">{txHash}</div>\n              </div>\n            ) : sendingTransaction ? (\n              <div className=\"sending-status\">Sending transaction</div>\n            ) : (\n              <div />\n            )}\n            <input\n              type=\"text\"\n              name=\"destination\"\n              className=\"full-width\"\n              required=\"required\"\n              placeholder=\"Destination address\"\n              onChange={(event) => {\n                setDestinationAddress(event.target.value);\n              }}\n            />\n            <input\n              type=\"text\"\n              name=\"amount\"\n              className=\"full-width\"\n              required=\"required\"\n              placeholder=\"Amount in LAMPORTS\"\n              onChange={(event) => {\n                setSendAmount(event.target.value);\n              }}\n            />\n            <AwesomeButton type=\"secondary\" id=\"btn-send-txn\" onPress={handlerSendTransaction}>\n            <span role=\"img\" aria-label=\"rocket\">Send ðŸš€ </span>\n            </AwesomeButton>\n          </div>\n          <div className=\"container\">\n          <AwesomeButton type=\"secondary\" id=\"btn-send-txn\" onPress={window.open(\"https://openserum.ch/mango-ui/#/market/C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4\")}>\n          <span role=\"img\" aria-label=\"mango\">Mango MarketðŸ¥­</span>\n            </AwesomeButton>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}